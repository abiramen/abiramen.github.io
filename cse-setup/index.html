<!doctype html><html lang=en><head><meta charset=utf-8><title>CSE and VS Code | abiramen's site</title><link rel=stylesheet href=https://abiram.me/css/styles.css><link rel=stylesheet href=/assets/fonts/fonts.css><link type=application/atom+xml rel=alternate href=/feed.xml><link rel="shortcut icon" href=/assets/images/ramen-bricks.png type=image/x-icon><link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel=stylesheet><meta name=theme-color content="#000000"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/assets/css/post.css><link rel=stylesheet href=/assets/css/tags.css><link rel=stylesheet href=/assets/vendor/littlefoot/littlefoot.css></head><body><nav id=navbar><div id=nav-contain><a href=/ id=navbar-logo><img src=/assets/images/ramen-logo.png alt=neon-logo id=logo></a><div id=nav-home><a href=/ id=navbar-name>@abiramen</a></div><div id=nav-right><a href=/about>about</a>
<a href=/posts>posts</a></div><img src=/assets/images/hamburger.svg alt=hamburger id=hamburger><div id=nav-border></div></div></nav><div id=overlay><span id=overlay-close>&#215;</span><div id=overlay-content><a href=/><img src=/assets/images/ramen-logo.png alt=neon-logo id=overlay-logo></a><h3>@abiramen</h3><a href=/about>about</a>
<a href=/posts>posts</a></div></div><main><div id=post-splash class=splash><div class=container><div id=splash-text class=post-desc><div id=post-head><span id=post-date>Aug 28, 2021 </span>Â·<div class=icon>schedule</div>9 min read</div><div id=post-title>CSE and VS Code</div><div id=post-time></div><div id=post-desc>Use VS Code to work on CSE machines from the convenience of your own computer!</div><div id=post-tags>tags:
<a class=tag-link href=/tags/unsw-cse><span class=post-tag>unsw-cse</span>
</a><a class=tag-link href=/tags/guide><span class=post-tag>guide</span>
</a><a class=tag-link href=/tags/vscode><span class=post-tag>vscode</span></a></div></div></div><a id=scroll-arrow class="page-anchor-offset post-arrow" href=#post-contents><div class=icon>keyboard_arrow_down</div></a></div><div id=post-contents class=container><p>We&rsquo;re going to be setting up a text editor called Visual Studio Code, or VS Code, to remotely work on the CSE computers without needing a VNC client!</p><h2 id=why-are-we-doing-this>Why are we doing this?</h2><p>You&rsquo;ve likely used a program called TigerVNC to connect to the School of CSE&rsquo;s computers before, which provides you a visual interface with a full desktop environment. f you&rsquo;re currently doing COMP1511, I would strongly advise you to use the provided desktop environment and gedit over TigerVNC for the first week, just to familiarise yourself with it.</p><p>The solution we&rsquo;re about to go through provides a more seamless coding experience without having to load a full visual interface from CSE computers. This has the added benefits of not being affected by compression, especially if you have a poor connection, and being able to use a more fully fledged editor.</p><div class=alert><p><strong>Obligatory disclaimer</strong>: Despite myself being employed by the School of CSE at the time of writing, this does <strong>not</strong> necessarily reflect the views of my employer. I am also not responsible if your computer blows up!</p></div><h2 id=getting-started->Getting started ðŸŽ‰</h2><p>First of all, we&rsquo;re going to acquaint ourselves with Visual Studio Code, or VS Code, a text editor.</p><ol><li><strong>If prompted to do so during the installation process</strong>, select the checkbox which says &lsquo;Add to PATH&rsquo;.</li><li><strong>Restart your computer once you&rsquo;re done.</strong></li></ol><p>You should now have VS Code installed! You can now edit files on your own computer, but that&rsquo;s not quite what we want - our goal is to edit files on CSE machines.</p><h2 id=our-friend-ssh->Our friend, SSH ðŸ™ƒ</h2><p>Some cool computer scientists invented a way to allow you to communicate with remote computers over the internet called SSH, or Secure Shell. This allows us to edit files on another computer, such as the CSE servers, and run commands through a terminal on CSE servers.</p><p>Luckily for us, we can add an extension to VS Code to use SSH to connect to CSE machines.</p><h3 id=part-1-installing-the-extension>Part 1: Installing the extension</h3><ol><li><strong>Open VS Code.</strong></li><li><strong>Open the Extensions menu.</strong> You can access it using <code>Ctrl+Shift+X</code>.</li><li><strong>Search for and install the SSH FS extension.</strong> Once this is done, you might be prompted to reload the window. [^2]</li></ol><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-install.png alt="Installing the SSH FS extension"></th></tr></thead><tbody><tr><td style=text-align:center>Installing the SSH FS extension.</td></tr></tbody></table><h3 id=part-2-configuring-to-connect-to-cse>Part 2: Configuring to connect to CSE</h3><p>Now that we&rsquo;ve installed, there should be a new icon in the menu bar on the left of your VS Code window.</p><div class=alert><p>On macOS? Use the <kbd>Cmd</kbd> key instead of <kbd>Ctrl</kbd>.</p></div><ol><li><p><strong>Select the newly added SSH FS icon</strong>. This is the menu button in blue in the below image.</p></li><li><p><strong>Under the Configuration section</strong>, select the button to create a new configuration.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-add-config.png alt="Adding a new configuration under the SSH FS menu"></th></tr></thead><tbody><tr><td style=text-align:center>Adding a new configuration under the SSH FS menu.</td></tr></tbody></table></li><li><p><strong>Give the configuration a name</strong>, and click save. A good name might be &lsquo;cse&rsquo;.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-new-config.png alt="Creating the configuration"></th></tr></thead><tbody><tr><td style=text-align:center>Creating the new configuration.</td></tr></tbody></table></li><li><p><strong>We&rsquo;ll now need to edit this configuration</strong>. In the new screen that pops up, fill out the following options:</p><ul><li><strong>Host</strong>: Set this to be <code>login.cse.unsw.edu.au</code>.</li><li><strong>Port</strong>: This should be set to <code>22</code>.</li><li><strong>Root</strong>: Set this to <code>~</code>, which is the key that&rsquo;s generally above the tab key on most keyboards.</li><li><strong>Username</strong>: This should be your zID, for example, <code>z5123456</code>.</li></ul><p><strong>Leave everything else blank</strong>, scroll down, and <strong>click save</strong>.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-sample-config.png alt="Example configuration"></th></tr></thead><tbody><tr><td style=text-align:center>A sample configuration for z5123456.</td></tr></tbody></table></li></ol><h3 id=part-3-using-our-new-configuration-to-connect>Part 3: Using our new configuration to connect</h3><p>We&rsquo;re finally at the part where we get to connect to CSE machines.</p><ol><li><p><strong>Head back to the SSH FS menu</strong>. Our new CSE configuration should be listed.</p></li><li><p><strong>Click the button to &lsquo;add as workspace folder&rsquo;</strong>.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-add-workspace.png alt="Add as workspace folder"></th></tr></thead><tbody><tr><td style=text-align:center>Add CSE as a workspace folder.</td></tr></tbody></table></li><li><p><strong>Enter your UNSW password when prompted</strong>.</p></li></ol><p>Your CSE files should now all be visible in the sidebar! You can double-click to open them and edit them, or use <kbd>Ctrl</kbd>+<kbd>N</kbd> and <kbd>Ctrl</kbd>+<kbd>S</kbd> to create new files.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-see-files.png alt="See your files!"></th></tr></thead><tbody><tr><td style=text-align:center>We should now be able to see our CSE files!</td></tr></tbody></table><p>There&rsquo;s a good chance that you also need a <strong>terminal</strong> to get your work done. To do this,</p><ol><li><strong>Head back to the SSH FS menu</strong>, where our CSE configuration is listed.</li><li><strong>Click the &lsquo;open remote SSH terminal&rsquo; button</strong>. A terminal pane should now open. You can use commands like <code>cd</code> and <code>ls</code> just as you&rsquo;re used to. Instead of using <code>gedit</code> now, we can create new files inside VS Code.</li></ol><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-open-terminal.png alt="See your files!"></th></tr></thead><tbody><tr><td style=text-align:center>This button should launch a terminal on the bottom of our window.</td></tr></tbody></table><p>You can open as many new terminals as you want.</p><h3 id=part-4-optional-using-the-code-command-to-open-files>Part 4 (optional): Using the <code>code</code> command to open files</h3><p>We can enable a setting to allow us to use the <code>code</code> command in SSH terminal to open files (a bit like using the <code>gedit</code> command to open a new window containing a file):</p><ol><li><p><strong>Open the Settings menu.</strong> This can be accessed by using <kbd>Ctrl</kbd>+<kbd>,</kbd>, or the Settings icon in the bottom left of your window.</p></li><li><p><strong>Search for the &lsquo;sshfs flags&rsquo; setting</strong>, and select <em>&lsquo;Edit in settings.json&rsquo;</em>.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-flags.png alt="Searching for the SSH FS flags setting."></th></tr></thead><tbody><tr><td style=text-align:center>The following option should show up in our search.</td></tr></tbody></table><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-json-flags.png alt="The SSH FS flags settings in JSON"></th></tr></thead><tbody><tr><td style=text-align:center>A new tab should open, presenting an empty set of square brackets like this. There may or may not be a comma there.</td></tr></tbody></table></li><li><p><strong>Add the following in between the square brackets</strong>: <code>"REMOTE_COMMANDS"</code> (be sure to include the quotation marks), and use <kbd>Ctrl</kbd>+<kbd>S</kbd> to save the file.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-added-flag.png alt="The &ldquo;REMOTE_COMMANDS&rdquo; flag added."></th></tr></thead><tbody><tr><td style=text-align:center>You should now have this in between the square brackets. Don&rsquo;t add a comma if there wasn&rsquo;t already one there.</td></tr></tbody></table></li></ol><p>You should now be able to use the <code>code</code> command in your terminal the next time you connect.</p><h2 id=bonus-coins-avoiding-the-need-to-type-your-password-each-time>Bonus coins: Avoiding the need to type your password each time</h2><p>Being prompted to enter our password each time we connect is slightly annoying. Storing our password in the config file isn&rsquo;t ideal either, so our solution involves using a magic pair of keys.</p><h3 id=part-5-generating-a-keypair>Part 5: Generating a keypair</h3><h5 id=windows-10>Windows 10</h5><ol><li><strong>Open Windows Powershell.</strong> You can do this by entering <code>powershell</code> in Search.</li><li><strong>Generate a keypair.</strong> Use the command <code>ssh-keygen -t ed25519</code> in Powershell.</li><li><strong>You&rsquo;ll be asked where you want to save the key.</strong> Leave this blank, and press <kbd>Enter</kbd>.</li><li><strong>You&rsquo;ll be asked to set a password.</strong> Leave this blank, and press <kbd>Enter</kbd> again. Do the same when you are asked to confirm it.</li></ol><h5 id=linuxmacos>Linux/macOS</h5><ol><li><strong>Open the Terminal.</strong></li><li><strong>Generate a keypair.</strong> Use the command <code>ssh-keygen -t ed25519</code>.</li><li><strong>You&rsquo;ll be asked where you want to save the key.</strong> Leave this blank, and press <kbd>Enter</kbd>.</li><li><strong>You&rsquo;ll be asked to set a password.</strong> Leave this blank, and press <kbd>Enter</kbd> again. Do the same when you are asked to confirm it.</li></ol><p>Your computer has now generated two files: <code>id_ed25519</code> and <code>id_ed2559.pub</code>. The <code>id_ed25519.pub</code> file is what&rsquo;s called a public key, while <code>id_ed25519</code> is a private key. <strong>Never share (or really, even open) your private key.</strong> It&rsquo;s called a private key for a reason <del>(that is, because you should share it with the world)</del>.</p><h3 id=part-6-using-the-keypair-on-cse-machines>Part 6: Using the keypair on CSE machines</h3><p>For this to work, we need to give the CSE machines the <strong>public</strong> half of your keypair. If you&rsquo;re on Linux/macOS, this should be pretty easy, but if you&rsquo;re on Windows 10, there&rsquo;s a few more steps.</p><h5 id=windows-10-1>Windows 10</h5><ol><li><p><strong>Open Powershell</strong>, just like in Part 4. You can use the same window if you still have it open.</p></li><li><p><strong>Run the following command in Powershell</strong>, replacing with your own zID. Enter your password when prompted. (Yes, the entire thing should be one command.)</p><p><code>ssh z5555555@cse.unsw.edu.au "mkdir ~/.ssh;chmod 700 ~/.ssh;touch ~/.ssh/authorized_keys;chmod 600 ~/.ssh/authorized_keys"</code></p></li><li><p><strong>Run the following command</strong>, again replacing with your own zID. Enter your password when prompted. (Again, this is all one command, so be sure to copy-paste the whole thing!)</p><p><code>type $env:USERPROFILE\.ssh\id_ed25519.pub | ssh z5555555@cse.unsw.edu.au "cat >> .ssh/authorized_keys"</code></p></li><li><p><strong>Attempt to connect</strong> with <code>ssh z5555555@cse.unsw.edu.au</code>, replacing with your own zID. If we were successful, you should <strong>not</strong> be prompted for your password!</p></li></ol><h5 id=linuxmacos-1>Linux/macOS</h5><ol><li><p><strong>Open the Terminal.</strong></p></li><li><p><strong>Run the following command</strong>, replacing with your own zID.</p><p><code>ssh-copy-id z5555555@cse.unsw.edu.au</code></p></li><li><p><strong>Enter your password.</strong> You&rsquo;ll be asked for your CSE password one last time, for the key to be copied over.</p></li><li><p><strong>Attempt to connect</strong> with <code>ssh z5555555@cse.unsw.edu.au</code>, replacing with your own zID. If we were successful, you should <strong>not</strong> be prompted for your password!</p></li></ol><p>Voila! You had it a bit easier here.</p><h3 id=part-7-telling-the-ssh-fs-extension-to-use-your-new-keys>Part 7: Telling the SSH FS extension to use your new keys</h3><ol><li><p><strong>Open the SSH FS menu in VS Code</strong>, yet again.</p></li><li><p><strong>Select the &rsquo;edit configuration&rsquo; button</strong> for your CSE configuration.</p><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/sshfs-edit.png alt="Editing the CSE configuration"></th></tr></thead><tbody><tr><td style=text-align:center>Editing the CSE configuration.</td></tr></tbody></table></li><li><p><strong>Scroll down</strong> to the &lsquo;private key&rsquo; option.</p><ul><li>If you&rsquo;re on <strong>Windows</strong>, set this to <code>$USERPROFILE/.ssh/id_ed25519</code>.</li><li>If you&rsquo;re on <strong>macOS or Linux</strong>, set this to <code>$HOME/.ssh/id_ed25519</code>.</li></ul></li><li><p><strong>Be sure to scroll down and click save.</strong></p></li><li><p><strong>Connect again</strong>, just like in Part 3. You shouldn&rsquo;t be prompted for your password now!</p></li></ol><h3 id=other-boring-stuff-starting-in-a-different-folder>Other (boring) stuff: Starting in a different folder</h3><p>If you hate clutter and don&rsquo;t want to your entire CSE home directory (say, for example, you have a folder <code>~/comp1511</code> in which you do all your work in), you can edit your SSH FS configuration to start in a different <strong>root</strong> directory, such as <code>~/comp1511</code> instead of <code>~</code>, or even just make a whole new configuration for this.</p><h2 id=making-vs-code-even-cooler>Making VS Code even cooler</h2><table><thead><tr><th style=text-align:center><img src=/assets/images/blog/cse-setup/my-vscode.png alt="My VS Code"></th></tr></thead><tbody><tr><td style=text-align:center>I personally don&rsquo;t code on CSE machines, but my VS Code looks like this!</td></tr></tbody></table><h3 id=editor-rulers>Editor rulers</h3><p>The COMP1511 style guide requires you to make sure your lines of code aren&rsquo;t longer than 80 characters (and it&rsquo;s good practice to do so!). You can make VS Code show a handy little ruler to make sure your lines aren&rsquo;t too long.</p><ol><li><strong>Open the settings.json file.</strong> To do this, press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> and search for <strong>Open Settings (JSON).</strong> A file should open.</li><li><strong>We need to add to this file.</strong> You should see that the last line is a curly brace like this: <code>}</code>. What we want to do is add a comma to the second last line. Then, create a new line after the comma, and paste this:</li></ol><pre tabindex=0><code>&#34;[c]&#34; :{
    &#34;editor.rulers&#34; : [
        80
    ]
}
</code></pre><h3 id=other-extensions>Other extensions</h3><p>VS Code has heaps of themes and extensions. Some which I use:</p><ul><li><strong>Material Icon Theme.</strong></li><li><strong>Dainty and Dainty - Material Theme.</strong> I personally use Dainty - Material Theme Ocean.</li><li><strong>Discord Rich Presence.</strong> If you use Discord, then it&rsquo;ll update your currently playing status with details of what you&rsquo;re coding on. If one of your friends tries to drag you into a voice call, you can just open up VS Code and tell them that you&rsquo;re busy working ðŸ˜›</li></ul><p>It&rsquo;s worth noting that several extensions may not work due to the nature of how the SSH FS extension works - if there&rsquo;s a particular extension you need, and you&rsquo;re a more advanced user, try following my <a href=/cse-sshfs>other guide</a>
instead.</p><h2 id=troubleshooting-ssh-fs>Troubleshooting SSH FS</h2><h3 id=error-running-command-sshfsadd>Error running command sshfs.add</h3><p>Be sure that you&rsquo;ve used the correct name for the Host under your configuration, such as <code>login.cse.unsw.edu.au</code> for example. If this doesn&rsquo;t work, try using <code>login.cse.unsw.edu.au</code>, or <code>cse.unsw.edu.au</code> instead.</p><h2 id=have-feedback-or-want-to-reach-out>Have feedback, or want to reach out?</h2><p>If you&rsquo;ve spotted an error, or have any suggestions or improvements that I can make, feel free to contact me! My details are at the bottom of this page.</p><h2 id=acknowledgements>Acknowledgements</h2><ul><li><a href=https://github.com/hexDoor target=_blank rel="noopener noreferrer">hexDoor</a>
for discovering and filing an issue with the SSH FS extension&rsquo;s method of determining startup directory.</li><li>The maintainers and contributors of relevant open source software, particularly <a href=https://github.com/SchoofsKelvin target=_blank rel="noopener noreferrer">SchoofsKelvin</a>
for their particular quick response to issues raised by the above people and myself.</li></ul><script src=https://utteranc.es/client.js repo=abiramen/site-utterances issue-term=pathname label=utteranc.es theme=preferred-color-scheme crossorigin=anonymous async></script></div><script src=/assets/vendor/littlefoot/littlefoot.js></script><script type=application/javascript>typeof littlefoot!="undefined"&&littlefoot.default()</script></main><footer><div id=footer-content><div id=contact><a href=https://github.com/abiramen target=_blank>github: @abiramen</a><br>discord: @abiramen<br>println!("Email: {}@{}", "hello", "abiram.me");<br></div><div class=centre id=love-and-ramen style=margin-bottom:.5rem>made with <span class=icon>favorite</span> and ramen by Abiram</div><img src=/assets/images/ramen-logo.png id=ramen-footer width=75px alt=logo><div id=footer-flavour>Hmmm... we might have defeated the most basic of email scrapers. I bet AI would figure us out though.</div></div></footer><script src=/assets/js/common.js></script><script src=/assets/js/navbar.js></script></body></html>