<!doctype html><html lang=en><head><meta charset=utf-8><title>CSE and VS Code (archive) | abiramen's site</title><link rel=stylesheet href=https://abiram.me/css/styles.css><link rel=stylesheet href=/assets/fonts/fonts.css><link type=application/atom+xml rel=alternate href=/feed.xml><link rel="shortcut icon" href=/assets/images/ramen-bricks.png type=image/x-icon><link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel=stylesheet><meta name=theme-color content="#000000"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/assets/css/post.css><link rel=stylesheet href=/assets/css/tags.css><link rel=stylesheet href=/assets/vendor/littlefoot/littlefoot.css></head><body><nav id=navbar><div id=nav-contain><a href=/ id=navbar-logo><img src=/assets/images/ramen-logo.png alt=neon-logo id=logo></a><div id=nav-home><a href=/ id=navbar-name>@abiramen</a></div><div id=nav-right><a href=/about>about</a>
<a href=/posts>posts</a></div><img src=/assets/images/hamburger.svg alt=hamburger id=hamburger><div id=nav-border></div></div></nav><div id=overlay><span id=overlay-close>&#215;</span><div id=overlay-content><a href=/><img src=/assets/images/ramen-logo.png alt=neon-logo id=overlay-logo></a><h3>@abiramen</h3><a href=/about>about</a>
<a href=/posts>posts</a></div></div><main><div id=post-splash class=splash><div class=container><div id=splash-text class=post-desc><div id=post-head><span id=post-date>Sep 18, 2020 </span>Â·<div class=icon>schedule</div>11 min read</div><div id=post-title>CSE and VS Code (archive)</div><div id=post-time></div><div id=post-desc>This is now what we call a bad idea. Check out the new version of this post instead!</div><div id=post-tags>tags:
<a class=tag-link href=/tags/archive><span class=post-tag>archive</span>
</a><a class=tag-link href=/tags/unsw-cse><span class=post-tag>unsw-cse</span>
</a><a class=tag-link href=/tags/guide><span class=post-tag>guide</span>
</a><a class=tag-link href=/tags/vscode><span class=post-tag>vscode</span></a></div></div></div><a id=scroll-arrow class="page-anchor-offset post-arrow" href=#post-contents><div class=icon>keyboard_arrow_down</div></a></div><div id=post-contents class=container><div class="alert alert-red"><p><strong>WARNING</strong> This method is now considered unreliable due to the load it places on CSE servers, and may be blocked by CSE&rsquo;s System Support at any time. Check out <a href=/cse-setup>this newer post</a>
instead. Do not use this on CSE.</p></div><p>Hi there! If you&rsquo;re new here, welcome to CSE! We&rsquo;re going to be setting up a text editor called Visual Studio Code, or VS Code, to remotely work on the CSE computers without needing a VNC client!</p><h2 id=why-are-we-doing-this>Why are we doing this?</h2><p>You&rsquo;ve likely used a program called TigerVNC to connect to the School of CSE&rsquo;s computers before, which provides you a visual interface with a full desktop environment, very similar to the experience you would get out of sitting in front of a physical computer on campus.</p><p>More importantly, under normal circumstances, you would be doing your exams in front of a similarly configured physical computer on campus. As of the start of 2021 however, it seems you&rsquo;re generally free to use whatever setup you wish.</p><p>The solution we&rsquo;re about to go through provides a more seamless coding experience without having to load a full visual interface from CSE computers. This has the added benefits of not being affected by compression, especially if you have a poor connection, and other latency issues.</p><div class=alert><p>I don&rsquo;t particularly recommend this for first years, but if you&rsquo;re a more experienced user with your own local setup, you might want to checkout this more lightweight method <a href=/cse-sshfs>here</a>.</p></div><h2 id=getting-started>Getting started</h2><p>First of all, we&rsquo;re going to acquaint ourselves with Visual Studio Code, or VS Code. You&rsquo;ve likely been introduced to a tool called gedit which allows you to write files of text (including code), or what&rsquo;s called a text editor. VS Code does th is, but it provides many more great features on top. To get started, you&rsquo;ll need to install VS Code on your own computer, whether it be Windows, macOS or Linux.</p><ol><li><strong>If prompted to do so during the installation process</strong>, select the checkbox which says &lsquo;Add to PATH&rsquo;.</li><li><strong>Restart your computer once you&rsquo;re done.</strong></li></ol><p>You should now have VS Code installed! You can now edit files on your own computer, but that&rsquo;s not quite what we want - our goal is to edit files on CSE machines.</p><h2 id=our-friend-ssh>Our friend, SSH</h2><p>SSH, or Secure Shell, is a protocol which allows us to edit files on another computer, such as the CSE servers, and run commands through a terminal on CSE servers.</p><p>Luckily for us, VS Code has a way to use SSH to allow you to edit files and run commands on other computers.</p><div class=alert><p>If you&rsquo;re on macOS, use <kbd>Cmd</kbd> instead of <kbd>Ctrl</kbd>.</p></div><h3 id=part-1-getting-started>Part 1: Getting started</h3><ol><li><strong>Open VS Code.</strong></li><li><strong>Open the Extensions menu.</strong> You can access it using <code>Ctrl+Shift+X</code>.</li><li><strong>Search for and install the Remote-SSH extension.</strong> Once this is done, you might be prompted to reload the window.
<img src=/assets/images/blog/cse-setup-old/ssh-extension.jpg alt="Install the SSH extension."></li></ol><h3 id=part-2-improving-security>Part 2: Improving security</h3><div class=alert><p>Not performing this step can make your CSE account accessible to anyone while you&rsquo;re connected. Accounts that don&rsquo;t enable this will not be able to use VS Code to connect to CSE computers in the future.</p></div><ol><li><strong>Open the VS Code settings pane.</strong> To do this, click the settings icon near the bottom left, or use <code>Ctrl+,</code>.</li><li><strong>Search for &lsquo;Remote Server Listen on Socket&rsquo;.</strong> Tick the corresponding checkbox once it appears.
<img src=/assets/images/blog/cse-setup-old/socket.jpg alt="Enable the Remote Server Listen on Socket option"></li><li><strong>Search for &lsquo;Lockfiles In Tmp&rsquo;.</strong> Again, select the corresponding checkbox.
<img src=/assets/images/blog/cse-setup-old/lockfiles.jpg alt="Lockfiles in Tmp"></li><li>Close and reopen VS Code.</li></ol><p>Congrats! You&rsquo;re now safer from nefarious hackers, or inadvertent intruders.</p><p>Note: If you&rsquo;re coming here from the older version of my guide, please switch to using <strong>vscode.cse.unsw.edu.au</strong>, rather than login, wagner, weill or williams. If not you can ignore this.</p><h3 id=part-3-logging-in>Part 3: Logging in</h3><ol><li><p><strong>Open the Remote-SSH menu.</strong> This can be done by clicking this button</p><p><img src=/assets/images/blog/cse-setup-old/ssh-icon.jpg alt="SSH Icon">
in the bottom left. The menu should look like this:</p><p><img src=/assets/images/blog/cse-setup-old/ssh-menu.jpg alt="SSH menu"></p></li><li><p><strong>Click Connect to Host.</strong> In the field that shows up, type in <code>z5555555@vscode.cse.unsw.edu.au</code>, using your zID instead. Hit <kbd>Enter</kbd>.
A new window will open.</p></li><li><p><strong>If asked to select a remote platform</strong>, select Linux.</p></li><li><p><strong>Enter your password when prompted.</strong> If your password is wrong, you will prompted to retry. Once you&rsquo;ve done that, you should be connected successfully!</p><ul><li>Use <kbd>Ctrl+O</kbd> to open a file.</li><li>Use <kbd>Ctrl+`</kbd> (that&rsquo;s the key to the left of the number row) to open a terminal pane.
This is exactly like a terminal window in TigerVNC. You can run <code>ls</code> to see your files!</li></ul></li><li><p><strong>We can save some time by adding this to our hosts list.</strong> Click the SSH icon in the bottom left again, click Connect to Host, and this time, click <strong>Add New SSH Host.</strong></p></li><li><p><strong>Enter the following command:</strong> <code>ssh z5555555@vscode.cse.unsw.edu.au</code>, replacing with your own zID again, and hit <kbd>Enter</kbd>. If prompted which configuration file to save to, select the first one.</p></li><li><p><strong>You should now see vscode.cse.unsw.edu.au on the Connect to Host menu.</strong> This means you don&rsquo;t have to type it in each time.
<img src=/assets/images/blog/cse-setup-old/ssh-menu-2.jpg alt="SSH menu"></p></li></ol><h3 id=part-4-vscode2---electric-boogaloo>Part 4: vscode2 - Electric Boogaloo</h3><p>vscode.cse.unsw.edu.au connects you to a CSE server called <code>corelli</code>, which works fine most of the time. However, the server software VS Code uses in order to form a connection is quite resource intensive, and can often eat up all the resources that <code>corelli</code> has available.</p><p>Thankfully, CSE has set up a second server called <code>mandolin</code> you can use in case you&rsquo;re having issues with corelli.</p><p>To set up your VS Code to be able to connect to <code>mandolin</code>, repeat Part 3, but replace all occurrences of <code>z5555555@vscode.cse.unsw.edu.au</code> with <code>z5555555@vscode2.cse.unsw.edu.au</code>. That&rsquo;s right, you just need to stick a <code>2</code> after <code>vscode</code>!</p><p>You can connect to <code>mandolin</code> if <code>corelli</code> ever feels slow, which it might during assignment season.</p><h2 id=making-vs-code-even-cooler>Making VS Code even cooler</h2><p><img src=/assets/images/blog/cse-setup-old/vscode.jpg alt="My VS Code over SSH"></p><h3 id=editor-rulers>Editor rulers</h3><p>The COMP1511 style guide requires you to make sure your lines of code aren&rsquo;t longer than 80 characters (and it&rsquo;s good practice to do so!). You can make VS Code show a handy little ruler to make sure your lines aren&rsquo;t too long.</p><ol><li><strong>Open the settings.json file.</strong> To do this, press <kbd>Ctrl+Shift+P</kbd> and search for <strong>Open Settings (JSON).</strong> A file should open.</li><li><strong>We need to add to this file.</strong> You should see that the last line is a curly brace like this: <code>}</code>. What we want to do is add a comma to the second last line. Then, create a new line after the comma, and paste this:</li></ol><pre tabindex=0><code>&#34;[c]&#34; :{
    &#34;editor.rulers&#34; : [
        80
    ]
}
</code></pre><h3 id=the-cc-extension>The C/C++ extension</h3><p>The VS Code C/C++ extension will make your life a lot easier when coding. To install it,</p><ol><li><strong>Open a Remote-SSH window</strong> and connect to CSE servers.</li><li><strong>Open the Extensions pane</strong> by using <code>Ctrl+Shift+X</code>.</li><li>Search for C/C++ and install the extension by Microsoft.</li></ol><h3 id=other-extensions>Other extensions</h3><p>VS Code has heaps of themes and extensions. Some which I use:</p><ul><li><strong>C/C++ Snippets.</strong> Occasionally saves time with suggestions. Make sure to install from your Remote-SSH window.</li><li><strong>Material Icon Theme.</strong></li><li><strong>Dainty and Dainty - Material Theme.</strong> I personally use Dainty - Material Theme Ocean.</li><li><strong>Discord Rich Presence.</strong> If you use Discord, then it&rsquo;ll update your currently playing status with details of what you&rsquo;re coding on. If one of your friends tries to drag you into a voice call, you can just open up VS Code and tell them that you&rsquo;re busy working :P</li></ul><h2 id=bonus-coins-ssh-and-ssh-keys>Bonus coins: SSH and SSH keys</h2><p>Congrats! You made it to the bonus section. Following these instructions will mean you won&rsquo;t be asked for a password each time you open a new SSH window, while still keep your connection secure, using magic in the form of mathematics.</p><h4 id=part-1-generate-a-keypair>Part 1: Generate a keypair</h4><h5 id=windows-10>Windows 10</h5><ol><li><strong>Open the Windows Command Prompt.</strong> You can do this by entering <code>cmd</code> in Search.</li><li><strong>Generate a keypair.</strong> Use the command <code>ssh-keygen -t rsa -b 4096</code>.</li><li><strong>You&rsquo;ll be asked where you want to save the key.</strong> Leave this blank, and press <kbd>Enter</kbd>.</li><li><strong>You&rsquo;ll be asked to set a password.</strong> Leave this blank, and press <kbd>Enter</kbd> again. Do the same when you are asked to confirm it.</li><li><strong>Using the same Command Prompt as before</strong>, enter the command <code>code "%userprofile%/.ssh/id_rsa.pub"</code>. This should open up a file in VS Code, starting with ssh-rsa and followed by a long mess of characters. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> Don&rsquo;t close this file, but use <kbd>Ctrl+A Ctrl+C</kbd> to copy the entire contents of this file.</li></ol><h5 id=linuxmacos>Linux/macOS</h5><ol><li><strong>Open the Terminal.</strong></li><li><strong>Generate a keypair.</strong> Use the command <code>ssh-keygen -t rsa -b 4096</code>.</li><li><strong>You&rsquo;ll be asked where you want to save the key.</strong> Leave this blank, and press <kbd>Enter</kbd>.</li><li><strong>You&rsquo;ll be asked to set a password.</strong> Leave this blank, and press <kbd>Enter</kbd> again. Do the same when you are asked to confirm it.</li></ol><p>Your computer has now generated two files: <code>id_rsa</code> and <code>id_rsa.pub</code>. The <code>id_rsa.pub</code> file is what&rsquo;s called a public key, while <code>id_rsa</code> is a private key. <strong>Never share (or even open) your private key.</strong> It&rsquo;s called a private key for a reason :P</p><h4 id=part-2-using-the-keypair-for-cse-machines>Part 2: Using the keypair for CSE machines</h4><p>Now, we need to tell the CSE computer that your computer is trustworthy, and you are who you claim to be. To do this, we need to give the CSE computer the public key you just generated. If you&rsquo;re on Linux/macOS, this should be pretty easy, but if you&rsquo;re on Windows 10, there&rsquo;s a few more steps.</p><h5 id=windows-10-1>Windows 10</h5><ol><li><p><strong>Using your existing SSH or VLAB connection, open a terminal on the CSE computers.</strong> Run the following command. <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p><code>mkdir ~/.ssh;chmod 700 ~/.ssh;touch ~/.ssh/authorized_keys;chmod 600 ~/.ssh/authorized_keys;code ~/.ssh/authorized_keys</code></p></li><li><p><strong>A window for a file called authorized_keys should open in VS Code.</strong> Paste your public key from earlier into this file, and save.</p></li></ol><h5 id=linuxmacos-1>Linux/macOS</h5><ol><li><p><strong>Open the Terminal.</strong></p></li><li><p><strong>Run the following command</strong>, replacing with your own zID.</p><p><code>ssh-copy-id z5555555@cse.unsw.edu.au</code></p></li><li><p><strong>Enter your password.</strong> You&rsquo;ll be asked for your CSE password one last time, for the key to be copied over.</p></li></ol><p>Voila! You had it a bit easier here.</p><h4 id=part-3-telling-vs-code-on-your-computer-to-use-your-new-keys>Part 3: Telling VS Code on your computer to use your new keys</h4><ol><li><strong>On your local machine, open the SSH menu in VS Code.</strong> Click the SSH icon in the bottom left, then <strong>Open Configuration File</strong>, and select the first option. You should see something like this:</li></ol><pre tabindex=0><code>Host vscode.cse.unsw.edu.au
    HostName vscode.cse.unsw.edu.au
    User z5555555

Host vscode2.cse.unsw.edu.au
    HostName vscode2.cse.unsw.edu.au
    User z5555555
</code></pre><ol><li><strong>We need to tell the SSH connection to use our private key.</strong> Add the following line to your config file, after each of the lines with &lsquo;User&rsquo; on it. Make sure to indent it so that it&rsquo;s in line with the others.<ul><li><p><strong>Windows:</strong> Make sure to enter your username. If you don&rsquo;t know it, it&rsquo;s the part after <code>C:/Users/</code> when you open <code>cmd</code>.</p><p><code>IdentityFile "C:/Users/[YOURUSERNAME]/.ssh/id_rsa"</code></p></li><li><p><strong>Linux/macOS</strong></p><p><code>IdentityFile ~/.ssh/id_rsa</code></p></li></ul></li></ol><p>A potential completed config might look like this:</p><pre tabindex=0><code>Host vscode.cse.unsw.edu.au
    HostName vscode.cse.unsw.edu.au
    User z5555555
    IdentityFile &#34;C:/Users/Bob/.ssh/id_rsa

Host vscode2.cse.unsw.edu.au
    HostName vscode2.cse.unsw.edu.au
    User z5555555
    IdentityFile &#34;C:/Users/Bob/.ssh/id_rsa
</code></pre><p>Once you&rsquo;ve done this, you should be able to open Remote-SSH in VS Code without requiring a password.</p><p>If you need to add another public key to authorized_keys (for another computer), you can enter it on a new line.</p><h2 id=coding-on-your-own-computer>Coding on your own computer</h2><p>This guide was once part of a much larger guide which involved setting up to allow you to code on your own computer. However, this was much more than what most 1511 students need. It&rsquo;s worth noting that you need to have an internet connection for SSH to work. If your train route has poor reception, and you want to code on the train, you would need an alternative.</p><p>Even then, I would still recommend setting up your own local coding setup at some point. If you&rsquo;re new to coding and you&rsquo;re doing 1511 right now, I wouldn&rsquo;t say you should worry about this. However, if you do intend on going on to study more CSE courses, I recommend that you come back over the break after term ends and <a href=/wsl-github>check out this other post I wrote</a>
, which goes through setting up a Linux development environment if you have a Windows 10 computer, and using Git and GitHub to keep copies of your work on different computers and the internet.</p><h2 id=troubleshooting-ssh-over-vs-code>Troubleshooting SSH over VS Code</h2><p>If you&rsquo;re having trouble connecting to VS Code, a fix that tends to work is</p><ol><li><strong>Log in to the CSE servers using TigerVNC.</strong></li><li><strong>Open a terminal.</strong></li><li><strong>Run the following command:</strong> <code>rm -r ~/.vscode-server</code>. Make sure to copy and paste this command carefully.</li></ol><p>Alternatively, if you know how to open a Command Prompt/Terminal, you can run <code>ssh -t z5555555@cse.unsw.edu.au "rm -r ~/.vscode-server"</code>, replacing with your own zID.</p><h2 id=have-feedback-or-want-to-reach-out>Have feedback, or want to reach out?</h2><p>If you&rsquo;ve spotted an error, or have any suggestions or improvements that I can make, feel free to contact me! My details are at the bottom of this page.</p><h2 id=official-guide>Official guide</h2><p>Despite myself and the people being acknowledged below currently being employed by the School of CSE, this blogpost doesn&rsquo;t necessarily represent the views of my employer.</p><h2 id=acknowledgements>Acknowledgements</h2><p>Thanks to the following people who&rsquo;ve looked over this guide and provided feedback!</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>This actually represents an extremely large number, which is used to form a mathematical lock. This is called RSA encryption and you can learn more about it in MATH3411.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Technically multiple commands, which I&rsquo;ve condensed down for you.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><script src=https://utteranc.es/client.js repo=abiramen/site-utterances issue-term=pathname label=utteranc.es theme=preferred-color-scheme crossorigin=anonymous async></script></div><script src=/assets/vendor/littlefoot/littlefoot.js></script><script type=application/javascript>typeof littlefoot!="undefined"&&littlefoot.default()</script></main><footer><div id=footer-content><div id=contact><a href=https://github.com/abiramen target=_blank>github: @abiramen</a><br>discord: @abiramen<br>println!("Email: {}@{}", "hello", "abiram.me");<br></div><div class=centre id=love-and-ramen style=margin-bottom:.5rem>made with <span class=icon>favorite</span> and ramen by Abiram</div><img src=/assets/images/ramen-logo.png id=ramen-footer width=75px alt=logo><div id=footer-flavour>Hmmm... we might have defeated the most basic of email scrapers. I bet AI would figure us out though.</div></div></footer><script src=/assets/js/common.js></script><script src=/assets/js/navbar.js></script></body></html>